{"ast":null,"code":"var _jsxFileName = \"/Users/kimyeeun/Downloads/Git/react-website-v1/src/components/InputForm.js\";\nimport React, { createContext } from 'react';\nimport { Button } from './Button';\nimport axios from 'axios';\n\nfunction InputForm() {\n  let image = \"\"; // const [setLoaded] = useState(false);\n\n  let inputRef;\n\n  const SaveImage = e => {\n    e.preventDefault();\n\n    if (e.target.files[0]) {\n      // setLoaded(\"loading\")\n      image = e.target.files[0];\n    }\n\n    console.log(\"file input\");\n  };\n\n  const SendImageToServer = async () => {\n    if (image) {\n      const formData = new FormData();\n      formData.append('filename', image);\n      await axios.post('http://localhost:8000/main/upload', formData).then(function (response) {\n        console.log(response);\n        alert(response.data[\"result\"] + \" 같아요.\");\n      }); // setLoaded(false);\n    } else {\n      alert(\"그림이 업로드되지 않았어요. 다시 시도해주세요!\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"inputform__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputform__input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: SaveImage,\n    ref: refParam => inputRef = refParam\n    /* style={{ display: \"none\" }} */\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputform__button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: SendImageToServer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \" \\uACB0\\uACFC\\uB97C \\uD655\\uC778\\uD560\\uAC8C\\uC694\"))));\n}\n\nexport default InputForm;","map":{"version":3,"names":["React","createContext","Button","axios","InputForm","image","inputRef","SaveImage","e","preventDefault","target","files","console","log","SendImageToServer","formData","FormData","append","post","then","response","alert","data","refParam"],"sources":["/Users/kimyeeun/Downloads/Git/react-website-v1/src/components/InputForm.js"],"sourcesContent":["import React, { createContext } from 'react';\nimport { Button } from './Button';\nimport axios from 'axios';\n\nfunction InputForm() \n{\n    let image = \"\";\n    // const [setLoaded] = useState(false);\n    let inputRef;\n    \n    const SaveImage = (e) => {\n        e.preventDefault();\n    \n        if(e.target.files[0]){\n            // setLoaded(\"loading\")\n            \n                image =  e.target.files[0];\n           \n        }\n        console.log(\"file input\"); \n    }\n    const SendImageToServer = async() => {\n        if(image) {\n            const formData = new FormData()\n            formData.append('filename', image);\n\n            await axios.post('http://localhost:8000/main/upload', formData)\n            .then(function(response) {\n                console.log(response);\n                alert(response.data[\"result\"]+\" 같아요.\");\n            })\n            \n\n            \n           \n            // setLoaded(false);\n        }\n        else {\n            alert(\"그림이 업로드되지 않았어요. 다시 시도해주세요!\");\n        }\n    }\n    return (\n        <>\n            <li className='inputform__container'>\n                <div className='inputform__input'>\n                    <input type='file' \n                        accept='image/*' \n                        onChange={SaveImage}\n                        ref={refParam => inputRef = refParam}\n                        /* style={{ display: \"none\" }} */ \n                    />\n                </div>\n                <div className='inputform__button'>\n                    <Button \n                        type='submit' \n                        onClick={SendImageToServer}\n                    > 결과를 확인할게요\n                    </Button> \n                </div>\n            </li>\n        </>\n       \n    );\n}\n\nexport default InputForm;"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,SAAT,GACA;EACI,IAAIC,KAAK,GAAG,EAAZ,CADJ,CAEI;;EACA,IAAIC,QAAJ;;EAEA,MAAMC,SAAS,GAAIC,CAAD,IAAO;IACrBA,CAAC,CAACC,cAAF;;IAEA,IAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAH,EAAqB;MACjB;MAEIN,KAAK,GAAIG,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAT;IAEP;;IACDC,OAAO,CAACC,GAAR,CAAY,YAAZ;EACH,CAVD;;EAWA,MAAMC,iBAAiB,GAAG,YAAW;IACjC,IAAGT,KAAH,EAAU;MACN,MAAMU,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;MACAD,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BZ,KAA5B;MAEA,MAAMF,KAAK,CAACe,IAAN,CAAW,mCAAX,EAAgDH,QAAhD,EACLI,IADK,CACA,UAASC,QAAT,EAAmB;QACrBR,OAAO,CAACC,GAAR,CAAYO,QAAZ;QACAC,KAAK,CAACD,QAAQ,CAACE,IAAT,CAAc,QAAd,IAAwB,OAAzB,CAAL;MACH,CAJK,CAAN,CAJM,CAaN;IACH,CAdD,MAeK;MACDD,KAAK,CAAC,4BAAD,CAAL;IACH;EACJ,CAnBD;;EAoBA,oBACI,uDACI;IAAI,SAAS,EAAC,sBAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,kBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAO,IAAI,EAAC,MAAZ;IACI,MAAM,EAAC,SADX;IAEI,QAAQ,EAAEd,SAFd;IAGI,GAAG,EAAEgB,QAAQ,IAAIjB,QAAQ,GAAGiB;IAC5B;IAJJ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,CADJ,eASI;IAAK,SAAS,EAAC,mBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,MAAD;IACI,IAAI,EAAC,QADT;IAEI,OAAO,EAAET,iBAFb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,wDADJ,CATJ,CADJ,CADJ;AAsBH;;AAED,eAAeV,SAAf"},"metadata":{},"sourceType":"module"}